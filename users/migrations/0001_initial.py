# Generated by Django 5.2.8 on 2025-11-23 16:07

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Cart',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('converted_at', models.DateTimeField(auto_created=True, auto_now_add=True)),
                ('expires_at', models.DateTimeField(auto_created=True, auto_now_add=True)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('ADABNDONED', 'Abandoned'), ('CONVERTED', 'Converted')], default='ACTIVE', max_length=20)),
                ('total_amount', models.IntegerField()),
                ('total_items', models.IntegerField()),
                ('ip_address', models.CharField(max_length=25)),
                ('user_agent', models.CharField(blank=True, default='Chrome', max_length=20, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Category',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=25, unique=True)),
                ('slug', models.CharField(max_length=25, unique=True)),
                ('description', models.TextField()),
                ('icon', models.CharField(max_length=25)),
                ('sort_order', models.CharField(max_length=20)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('INACTIVe', 'Inactive')], max_length=10)),
                ('meta_title', models.CharField(max_length=20)),
                ('meta_description', models.TextField()),
            ],
        ),
        migrations.CreateModel(
            name='PaymentGateway',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=64, unique=True)),
                ('slug', models.CharField(max_length=64, unique=True)),
                ('type', models.CharField(choices=[('CRYPTO', 'Crypto'), ('CARD', 'Card'), ('BANK_TRANSFER', 'Bank_Transfer'), ('OTHER', 'Other')], default='CARD', max_length=20)),
                ('credentials', models.JSONField()),
                ('min_amount', models.FloatField()),
                ('max_amount', models.FloatField()),
                ('fee_type', models.CharField(choices=[('PERCENTAGE', 'Percentage'), ('FIXED', 'Fixed'), ('BOTH', 'Both')], default='PERCENTAGE', max_length=20)),
                ('fee_percentage', models.FloatField(blank=True, null=True)),
                ('fee_fixed', models.FloatField(blank=True, null=True)),
                ('icon', models.CharField(max_length=20)),
                ('description', models.TextField(blank=True, null=True)),
                ('sort_order', models.CharField(max_length=20)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('INACTIVE', 'Inactive'), ('MAINTENANCE', 'Maintenance')], default='ACTIVE', max_length=20)),
                ('is_default', models.BooleanField(default=False)),
                ('supported_currencies', models.CharField(max_length=64)),
            ],
        ),
        migrations.CreateModel(
            name='Session',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('last_activity', models.DateField(auto_created=True, auto_now_add=True)),
                ('ip_address', models.CharField(max_length=20)),
                ('user_agent', models.CharField(blank=True, default='Chrome', max_length=30, null=True)),
                ('payload', models.CharField(blank=True, max_length=20, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Supplier',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('last_sync_at', models.DateField(auto_created=True, auto_now_add=True)),
                ('first_name', models.CharField(max_length=25)),
                ('last_name', models.CharField(max_length=25)),
                ('api_url', models.TextField()),
                ('api_key', models.CharField(max_length=64)),
                ('api_type', models.CharField(choices=[('V1', 'v1'), ('V2', 'v2'), ('JUSTANOTHERPANEL', 'justanotherpanel')], max_length=20)),
                ('currency', models.CharField(max_length=20)),
                ('rate_multipler', models.CharField(max_length=20)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('INACTIVE', 'inactive'), ('MAINTENANCE', 'Maintenance')], max_length=20)),
                ('min_order_amount', models.IntegerField()),
                ('max_order_amount', models.IntegerField()),
                ('sync_enabled', models.BooleanField(default=False)),
                ('description', models.TextField(blank=True, null=True)),
                ('support_url', models.CharField(max_length=50)),
                ('terms_url', models.CharField(blank=True, max_length=20, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('first_name', models.CharField(max_length=25)),
                ('last_name', models.CharField(max_length=25)),
                ('email', models.EmailField(max_length=254, unique=True)),
                ('role', models.CharField(choices=[('USER', 'User'), ('ADMIN', 'Admin'), ('RESELLER', 'Reseller')], default='USER', max_length=10)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('SUSPENDED', 'Suspended'), ('BANNED', 'Banned')], default='ACTIVE', max_length=10)),
                ('api_key', models.TextField(blank=True)),
                ('api_enabled', models.BooleanField(default=True)),
                ('phone_number', models.CharField(max_length=15)),
                ('country', models.CharField(default='RU', max_length=20)),
                ('timezone', models.CharField(default='UTC+5', max_length=20)),
                ('preferences', models.JSONField(default=dict)),
                ('last_login_at', models.DateField(auto_now_add=True)),
                ('last_login_api', models.CharField(blank=True, max_length=20)),
            ],
        ),
        migrations.CreateModel(
            name='Service',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('average_time', models.DateTimeField(auto_created=True, auto_now_add=True)),
                ('name', models.CharField(max_length=40, unique=True)),
                ('slug', models.CharField(max_length=40, unique=True)),
                ('descriptiom', models.TextField(blank=True, null=True)),
                ('supplier_service_id', models.IntegerField()),
                ('price_per_100', models.FloatField()),
                ('supplier_price_per_100', models.FloatField()),
                ('min_quantity', models.IntegerField()),
                ('max_quantity', models.IntegerField()),
                ('refill_enabled', models.BooleanField(default=False)),
                ('cancell_enabled', models.BooleanField(default=True)),
                ('sort_order', models.CharField(max_length=20)),
                ('is_featured', models.BooleanField(default=False)),
                ('meta_title', models.CharField(max_length=20)),
                ('meta_description', models.TextField(blank=True, null=True)),
                ('total_orders', models.IntegerField()),
                ('total_completed', models.IntegerField()),
                ('category_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='users.category')),
                ('supplier_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='users.supplier')),
            ],
        ),
        migrations.CreateModel(
            name='CartItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('link', models.CharField(max_length=64)),
                ('quantity', models.IntegerField()),
                ('price_per_100', models.FloatField()),
                ('total_amount', models.FloatField()),
                ('notes', models.CharField(max_length=20)),
                ('cart_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='users.cart')),
                ('service_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='users.service')),
            ],
        ),
        migrations.AddField(
            model_name='cart',
            name='session_id',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='users.session'),
        ),
        migrations.AddField(
            model_name='session',
            name='user_id',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='users.user'),
        ),
        migrations.CreateModel(
            name='PasswordResetToken',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateField(auto_created=True, auto_now_add=True)),
                ('token', models.TextField()),
                ('email', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='users.user', to_field='email')),
            ],
        ),
        migrations.CreateModel(
            name='Order',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('refunded_at', models.DateTimeField(auto_created=True, auto_now_add=True, null=True)),
                ('cancelled_at', models.DateTimeField(auto_created=True, auto_now_add=True, null=True)),
                ('completed_at', models.DateTimeField(auto_created=True, auto_now_add=True, null=True)),
                ('submitted_at', models.DateTimeField(auto_created=True, auto_now_add=True)),
                ('order_number', models.IntegerField()),
                ('supplier_order_id', models.IntegerField()),
                ('link', models.CharField(max_length=65)),
                ('quantity', models.IntegerField()),
                ('profit', models.FloatField()),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('PROCCESSING', 'Proccessing'), ('IN_PROGRESS', 'In_progress'), ('COMPLETED', 'Completed'), ('PARTIAL', 'Partial'), ('CANCELLED', 'Cancelled'), ('REFUNDED', 'Refunded'), ('FAILED', 'Failed')], default='PENDING', max_length=20)),
                ('start_count', models.IntegerField()),
                ('remains', models.IntegerField()),
                ('customer_role', models.CharField(max_length=20)),
                ('admin_note', models.CharField(max_length=20)),
                ('service_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='users.service')),
                ('user_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='users.user')),
            ],
        ),
        migrations.AddField(
            model_name='cart',
            name='user_id',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='users.user'),
        ),
    ]
